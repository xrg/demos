{% load i18n %}

<div class="election-box">
    <div class="header">
        <h3>{{ object.title }}</h3>
        <span class="time">
            <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
            <span class="message"
                data-start-datetime="{{ object.start_datetime|date:'c' }}"
                data-end-datetime="{{ object.end_datetime|date:'c' }}"
                data-now-datetime="{% if now_datetime %}{{ now_datetime|date:'c' }}{% else %}{% now 'c' %}{% endif %}"
                data-starts-msg="{% blocktrans with timediff='%s' %}starts in {{ timediff }}{% endblocktrans %}"
                data-ended-msg="{% blocktrans with timediff='%s' %}ended {{ timediff }} ago{% endblocktrans %}"
                data-remaining-s-msg="{% blocktrans with timediff='%s' count counter=1 %}{{ timediff }} remaining{% plural %}{{ timediff }} remaining{% endblocktrans %}"
                data-remaining-p-msg="{% blocktrans with timediff='%s' count counter=2 %}{{ timediff }} remaining{% plural %}{{ timediff }} remaining{% endblocktrans %}"
            >&hellip;</span>
            <span class="datetime hidden">
                <span class="datetime-iso8601" data-format="dddd D MMMM YYYY, hh:mm a">{{ object.start_datetime|date:'c' }}</span>
                <span class="datetime-iso8601" data-format="dddd D MMMM YYYY, hh:mm a">{{ object.end_datetime|date:'c' }}</span>
            </span>
        </span>
    </div>
    <div class="body clearfix">
        {% widthratio 100 panels|length 10 as width %}
        {% for panel in panels %}
            <div style="width:{{ width|slice:':-1' }}.{{ width|slice:'-1:' }}%;"><div><span>{{ panel.0 }}</span><br><span>{{ panel.1|default:"-" }}</span></div></div>
        {% endfor %}
    </div>
</div>
